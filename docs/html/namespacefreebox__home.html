<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Freebox Home: freebox_home Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Freebox Home<span id="projectnumber">&#160;1.1.68</span>
   </div>
   <div id="projectbrief">Home Assistant integration for Freebox routers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">freebox_home Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacefreebox__home_1_1alarm__control__panel"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1alarm__control__panel.html">alarm_control_panel</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1binary__sensor"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1binary__sensor.html">binary_sensor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1button"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1button.html">button</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1camera"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1camera.html">camera</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1config__flow"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1config__flow.html">config_flow</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1const"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1const.html">const</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1cover"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1cover.html">cover</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1device__tracker"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1device__tracker.html">device_tracker</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1entity"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1entity.html">entity</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1open__helper"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1open__helper.html">open_helper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1router"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1router.html">router</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1sensor"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1sensor.html">sensor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacefreebox__home_1_1switch"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home_1_1switch.html">switch</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7885a0b6e728a378bb548eb29c18becd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home.html#a7885a0b6e728a378bb548eb29c18becd">async_setup</a> (HomeAssistant hass, ConfigType config)</td></tr>
<tr class="separator:a7885a0b6e728a378bb548eb29c18becd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a739bee72a676143b393c6555c3e77"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home.html#a64a739bee72a676143b393c6555c3e77">async_setup_entry</a> (HomeAssistant hass, FreeboxConfigEntry entry)</td></tr>
<tr class="separator:a64a739bee72a676143b393c6555c3e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b789bc81504c48f042beecc87b44931"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home.html#a4b789bc81504c48f042beecc87b44931">async_unload_entry</a> (HomeAssistant hass, FreeboxConfigEntry entry)</td></tr>
<tr class="separator:a4b789bc81504c48f042beecc87b44931"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7e81c407336ae7eeec083cfa05e78258"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home.html#a7e81c407336ae7eeec083cfa05e78258">FREEBOX_SCHEMA</a></td></tr>
<tr class="memdesc:a7e81c407336ae7eeec083cfa05e78258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration schema for a single Freebox device instance.  <a href="namespacefreebox__home.html#a7e81c407336ae7eeec083cfa05e78258">More...</a><br /></td></tr>
<tr class="separator:a7e81c407336ae7eeec083cfa05e78258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c34b631f51012492622758a8f3be81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home.html#ab8c34b631f51012492622758a8f3be81">CONFIG_SCHEMA</a></td></tr>
<tr class="memdesc:ab8c34b631f51012492622758a8f3be81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration schema for the Freebox integration (deprecated)  <a href="namespacefreebox__home.html#ab8c34b631f51012492622758a8f3be81">More...</a><br /></td></tr>
<tr class="separator:ab8c34b631f51012492622758a8f3be81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717f012c8cae9d7849a21cb1a9d2aad9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home.html#a717f012c8cae9d7849a21cb1a9d2aad9">SCAN_INTERVAL</a> = timedelta(seconds=30)</td></tr>
<tr class="memdesc:a717f012c8cae9d7849a21cb1a9d2aad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update interval for polling Freebox router data (in seconds)  <a href="namespacefreebox__home.html#a717f012c8cae9d7849a21cb1a9d2aad9">More...</a><br /></td></tr>
<tr class="separator:a717f012c8cae9d7849a21cb1a9d2aad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4e70cd04243446be4994d84b9f5efb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefreebox__home.html#a6d4e70cd04243446be4994d84b9f5efb">_LOGGER</a> = logging.getLogger(__name__)</td></tr>
<tr class="memdesc:a6d4e70cd04243446be4994d84b9f5efb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logger instance for module-level logging.  <a href="namespacefreebox__home.html#a6d4e70cd04243446be4994d84b9f5efb">More...</a><br /></td></tr>
<tr class="separator:a6d4e70cd04243446be4994d84b9f5efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">@file __init__.py
@author Freebox Home Contributors
@brief Home Assistant integration for Freebox devices (Freebox v6 and Freebox mini 4K).
@version 1.1.68

This module provides the main integration setup for Freebox routers, including:
- Configuration entry management
- Service registration (deprecated reboot service)
- Platform forwarding to specialized entity platforms
- YAML configuration support (deprecated)

@section features Features
- Automatic discovery via Zeroconf/mDNS
- Token-based authentication with Freebox router
- Support for multiple Freebox instances
- Periodic updates of device/sensor data
- Home automation capabilities via Freebox Home API

@section modules Related Modules
- @ref open_helper - Non-blocking API connection helper
- @ref router - Router management and data synchronization
- @ref config_flow - Configuration flow handling
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a7885a0b6e728a378bb548eb29c18becd" name="a7885a0b6e728a378bb548eb29c18becd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7885a0b6e728a378bb548eb29c18becd">&#9670;&nbsp;</a></span>async_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool freebox_home.async_setup </td>
          <td>(</td>
          <td class="paramtype">HomeAssistant&#160;</td>
          <td class="paramname"><em>hass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ConfigType&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Set up the Freebox integration from YAML configuration.

@details
This is the legacy YAML configuration setup method. It imports YAML config
entries and converts them to config entry format for use with the modern
Home Assistant configuration entry system.

@param[in] hass The Home Assistant instance
@param[in] config The configuration dictionary from configuration.yaml
@return True if setup was successful, False otherwise
@see async_setup_entry For the modern config entry setup method
@deprecated Use configuration entries instead of YAML configuration
</pre> 
</div>
</div>
<a id="a64a739bee72a676143b393c6555c3e77" name="a64a739bee72a676143b393c6555c3e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a739bee72a676143b393c6555c3e77">&#9670;&nbsp;</a></span>async_setup_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool freebox_home.async_setup_entry </td>
          <td>(</td>
          <td class="paramtype">HomeAssistant&#160;</td>
          <td class="paramname"><em>hass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FreeboxConfigEntry&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Set up Freebox integration from a config entry.

@details
This function performs the following steps:
1. Gets or creates a Freepybox API instance with proper token file storage
2. Opens the connection without blocking the event loop (executor-based)
3. Validates that all API sub-modules were initialized
4. Fetches initial Freebox system configuration
5. Creates a FreeboxRouter instance for data management
6. Performs initial data update
7. Sets up periodic update polling
8. Forwards setup to specialized entity platforms
9. Registers deprecated reboot service
10. Registers shutdown handler

@param[in] hass The Home Assistant instance
@param[in] entry The config entry containing Freebox connection details
@return True if setup was successful
@throw ConfigEntryNotReady If connection fails or setup cannot be completed
@see async_unload_entry For the cleanup function
@see open_helper.async_open_freebox For non-blocking connection details
</pre> 
</div>
</div>
<a id="a4b789bc81504c48f042beecc87b44931" name="a4b789bc81504c48f042beecc87b44931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b789bc81504c48f042beecc87b44931">&#9670;&nbsp;</a></span>async_unload_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool freebox_home.async_unload_entry </td>
          <td>(</td>
          <td class="paramtype">HomeAssistant&#160;</td>
          <td class="paramname"><em>hass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FreeboxConfigEntry&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Unload a Freebox config entry.

@details
This function is called when a config entry is being removed or when the
integration is being disabled. It performs cleanup operations:
1. Unloads all platform-specific entities
2. Closes the API connection
3. Removes the deprecated reboot service

@param[in] hass The Home Assistant instance
@param[in] entry The config entry to unload
@return True if unload was successful, False otherwise
@see async_setup_entry For the corresponding setup function
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6d4e70cd04243446be4994d84b9f5efb" name="a6d4e70cd04243446be4994d84b9f5efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d4e70cd04243446be4994d84b9f5efb">&#9670;&nbsp;</a></span>_LOGGER</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">freebox_home._LOGGER = logging.getLogger(__name__)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Logger instance for module-level logging. </p>

</div>
</div>
<a id="ab8c34b631f51012492622758a8f3be81" name="ab8c34b631f51012492622758a8f3be81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c34b631f51012492622758a8f3be81">&#9670;&nbsp;</a></span>CONFIG_SCHEMA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">freebox_home.CONFIG_SCHEMA</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  vol.Schema(</div>
<div class="line"><span class="lineno">    2</span>    vol.All(</div>
<div class="line"><span class="lineno">    3</span>        cv.deprecated(DOMAIN),</div>
<div class="line"><span class="lineno">    4</span>        {DOMAIN: vol.Schema(vol.All(cv.ensure_list, [FREEBOX_SCHEMA]))},</div>
<div class="line"><span class="lineno">    5</span>    ),</div>
<div class="line"><span class="lineno">    6</span>    extra=vol.ALLOW_EXTRA,</div>
<div class="line"><span class="lineno">    7</span>)</div>
</div><!-- fragment -->
<p>Configuration schema for the Freebox integration (deprecated) </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>Use config entries instead of YAML configuration </dd></dl>

</div>
</div>
<a id="a7e81c407336ae7eeec083cfa05e78258" name="a7e81c407336ae7eeec083cfa05e78258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e81c407336ae7eeec083cfa05e78258">&#9670;&nbsp;</a></span>FREEBOX_SCHEMA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">freebox_home.FREEBOX_SCHEMA</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  vol.Schema(</div>
<div class="line"><span class="lineno">    2</span>    {vol.Required(CONF_HOST): cv.string, vol.Required(CONF_PORT): cv.port}</div>
<div class="line"><span class="lineno">    3</span>)</div>
</div><!-- fragment -->
<p>Configuration schema for a single Freebox device instance. </p>
<p >Schema requires:</p><ul>
<li>host: Freebox router hostname/IP</li>
<li>port: Freebox router HTTPS port </li>
</ul>

</div>
</div>
<a id="a717f012c8cae9d7849a21cb1a9d2aad9" name="a717f012c8cae9d7849a21cb1a9d2aad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a717f012c8cae9d7849a21cb1a9d2aad9">&#9670;&nbsp;</a></span>SCAN_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">freebox_home.SCAN_INTERVAL = timedelta(seconds=30)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update interval for polling Freebox router data (in seconds) </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
